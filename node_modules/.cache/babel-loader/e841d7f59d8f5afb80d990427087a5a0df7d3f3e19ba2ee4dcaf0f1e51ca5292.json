{"ast":null,"code":"// src/apis/configs/axiosConfigs.js\n\nimport axios from \"axios\";\nimport { BASE_URL } from \"../apiConstants\";\naxios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\naxios.defaults.xsrfCookieName = \"csrftoken\";\nexport const api = axios.create({\n  withCredentials: true,\n  baseURL: BASE_URL\n  // headers: { 'Access-Control-Allow-Credentials': 'true' }\n});\n\n// defining a custom error handler for all APIs\nconst errorHandler = error => {\n  var _error$response;\n  const statusCode = (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status;\n\n  // logging only errors that are not 401\n  if (statusCode && statusCode !== 401) {\n    console.error(error);\n  }\n  return Promise.reject(error);\n};\n\n// registering the custom error handler to the\n// \"api\" axios instance\napi.interceptors.response.use(undefined, error => {\n  return errorHandler(error);\n});","map":{"version":3,"names":["axios","BASE_URL","defaults","xsrfHeaderName","xsrfCookieName","api","create","withCredentials","baseURL","errorHandler","error","_error$response","statusCode","response","status","console","Promise","reject","interceptors","use","undefined"],"sources":["/home/calum/Projects/speeday-boi/speeday-fe/src/api/configs/axiosConfigs.js"],"sourcesContent":["// src/apis/configs/axiosConfigs.js\n\nimport axios from \"axios\"\n\nimport { BASE_URL } from \"../apiConstants\";\n\naxios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\naxios.defaults.xsrfCookieName = \"csrftoken\";\n\nexport const api = axios.create({\n  withCredentials: true,\n  baseURL: BASE_URL,\n  // headers: { 'Access-Control-Allow-Credentials': 'true' }\n})\n\n// defining a custom error handler for all APIs\nconst errorHandler = (error) => {\n  const statusCode = error.response?.status\n\n  // logging only errors that are not 401\n  if (statusCode && statusCode !== 401) {\n    console.error(error)\n  }\n\n  return Promise.reject(error)\n}\n\n// registering the custom error handler to the\n// \"api\" axios instance\napi.interceptors.response.use(undefined, (error) => {\n  return errorHandler(error)\n})\n\n\n"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,QAAQ,QAAQ,iBAAiB;AAE1CD,KAAK,CAACE,QAAQ,CAACC,cAAc,GAAG,aAAa;AAC7CH,KAAK,CAACE,QAAQ,CAACE,cAAc,GAAG,WAAW;AAE3C,OAAO,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;EAC9BC,eAAe,EAAE,IAAI;EACrBC,OAAO,EAAEP;EACT;AACF,CAAC,CAAC;;AAEF;AACA,MAAMQ,YAAY,GAAIC,KAAK,IAAK;EAAA,IAAAC,eAAA;EAC9B,MAAMC,UAAU,IAAAD,eAAA,GAAGD,KAAK,CAACG,QAAQ,cAAAF,eAAA,uBAAdA,eAAA,CAAgBG,MAAM;;EAEzC;EACA,IAAIF,UAAU,IAAIA,UAAU,KAAK,GAAG,EAAE;IACpCG,OAAO,CAACL,KAAK,CAACA,KAAK,CAAC;EACtB;EAEA,OAAOM,OAAO,CAACC,MAAM,CAACP,KAAK,CAAC;AAC9B,CAAC;;AAED;AACA;AACAL,GAAG,CAACa,YAAY,CAACL,QAAQ,CAACM,GAAG,CAACC,SAAS,EAAGV,KAAK,IAAK;EAClD,OAAOD,YAAY,CAACC,KAAK,CAAC;AAC5B,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
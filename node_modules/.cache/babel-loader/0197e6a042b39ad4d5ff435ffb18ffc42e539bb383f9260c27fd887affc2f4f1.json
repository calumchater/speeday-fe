{"ast":null,"code":"export function defineCancelApiObject(apiObject) {\n  // an object that will contain a cancellation handler\n  // associated to each API property name in the apiObject API object\n  const cancelApiObject = {};\n\n  // each property in the apiObject API layer object\n  // is associated with a function that defines an API call\n\n  // this loop iterates over each API property name\n  Object.getOwnPropertyNames(apiObject).forEach(apiPropertyName => {\n    const cancellationControllerObject = {\n      controller: undefined\n    };\n\n    // associating the request cancellation handler with the API property name\n    cancelApiObject[apiPropertyName] = {\n      handleRequestCancellation: () => {\n        // if the controller already exists,\n        // canceling the request\n        if (cancellationControllerObject.controller) {\n          // canceling the request and returning this custom message\n          cancellationControllerObject.controller.abort();\n        }\n\n        // generating a new controller\n        // with the AbortController factory\n        cancellationControllerObject.controller = new AbortController();\n        return cancellationControllerObject.controller;\n      }\n    };\n  });\n  return cancelApiObject;\n}","map":{"version":3,"names":["defineCancelApiObject","apiObject","cancelApiObject","Object","getOwnPropertyNames","forEach","apiPropertyName","cancellationControllerObject","controller","undefined","handleRequestCancellation","abort","AbortController"],"sources":["/home/calum/Projects/speeday-boi/speeday-fe/src/api/configs/axiosUtils.js"],"sourcesContent":["export function defineCancelApiObject(apiObject) {\n    // an object that will contain a cancellation handler\n    // associated to each API property name in the apiObject API object\n    const cancelApiObject = {}\n\n    // each property in the apiObject API layer object\n    // is associated with a function that defines an API call\n\n    // this loop iterates over each API property name\n    Object.getOwnPropertyNames(apiObject).forEach((apiPropertyName) => {\n        const cancellationControllerObject = {\n            controller: undefined,\n        }\n\n        // associating the request cancellation handler with the API property name\n        cancelApiObject[apiPropertyName] = {\n            handleRequestCancellation: () => {\n                // if the controller already exists,\n                // canceling the request\n                if (cancellationControllerObject.controller) {\n                    // canceling the request and returning this custom message\n                    cancellationControllerObject.controller.abort()\n                }\n\n                // generating a new controller\n                // with the AbortController factory\n                cancellationControllerObject.controller = new AbortController()\n\n                return cancellationControllerObject.controller\n            },\n        }\n    })\n\n    return cancelApiObject\n}"],"mappings":"AAAA,OAAO,SAASA,qBAAqBA,CAACC,SAAS,EAAE;EAC7C;EACA;EACA,MAAMC,eAAe,GAAG,CAAC,CAAC;;EAE1B;EACA;;EAEA;EACAC,MAAM,CAACC,mBAAmB,CAACH,SAAS,CAAC,CAACI,OAAO,CAAEC,eAAe,IAAK;IAC/D,MAAMC,4BAA4B,GAAG;MACjCC,UAAU,EAAEC;IAChB,CAAC;;IAED;IACAP,eAAe,CAACI,eAAe,CAAC,GAAG;MAC/BI,yBAAyB,EAAEA,CAAA,KAAM;QAC7B;QACA;QACA,IAAIH,4BAA4B,CAACC,UAAU,EAAE;UACzC;UACAD,4BAA4B,CAACC,UAAU,CAACG,KAAK,CAAC,CAAC;QACnD;;QAEA;QACA;QACAJ,4BAA4B,CAACC,UAAU,GAAG,IAAII,eAAe,CAAC,CAAC;QAE/D,OAAOL,4BAA4B,CAACC,UAAU;MAClD;IACJ,CAAC;EACL,CAAC,CAAC;EAEF,OAAON,eAAe;AAC1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}